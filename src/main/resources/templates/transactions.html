<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
  <head th:replace="layout :: common-head(~{::title})">
    JCCB: Transactions
  </head>
  <body class="d-flex flex-column h-100">
    <header th:replace="layout :: header"></header>
    <main class="flex-shrink-0">
      <div class="container mt-5">
        <div class="table-responsive">
          <h1 class="d-flex justify-content-center pt-5">
            Transaction History
          </h1>
          <table class="table table-striped table-hover table-success mb-5">
            <thead>
              <tr>
                <th class="custom-table" scope="col">ID</th>
                <th class="custom-table" scope="col">Date</th>
                <th class="custom-table" scope="col">Retailer</th>
                <th class="custom-table" scope="col">Description</th>
                <th class="custom-table" scope="col">Type</th>
                <th class="custom-table" scope="col">Funds</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="transaction : ${transactions}">
                <td>
                  <a
                    type="button"
                    class="btn btn-primary w-100"
                    th:href="@{/transaction_details/{id}(id=${transaction.id})}"
                    th:text="${transaction.id}"
                  ></a>
                </td>

                <td><span th:text="${transaction.date}"></span></td>
                <td><span th:text="${transaction.retailer}"></span></td>
                <td><span th:text="${transaction.description}"></span></td>
                <td>
                  <span
                    th:classappend="${transaction.type == 'C'} ? 'credit-green' : 'debit-red'"
                    th:text="${transaction.type}"
                  ></span>
                </td>
                <td>
                  <span
                    th:classappend="${transaction.type == 'C'} ? 'credit-green' : 'debit-red'"
                    th:text="${transaction.type == 'C'} ? '+' + ${transaction.amount} : '-' + ${transaction.amount}"
                  ></span>
                </td>
              </tr>
            </tbody>
          </table>
          <p class="text-center">Warning: For Demo Purposes Only.</p>
        </div>
      </div>
    </main>
    <footer th:replace="layout :: footer"></footer>
    <div th:replace="layout :: CustomJS"></div>
    <div th:replace="layout :: BootstrapJS"></div>
  </body>
</html>
